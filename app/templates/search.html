<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="Author" content="Iordanis Sapidis">
    <meta name="Description" content="PDF Search Demo">
    <meta name="keywords" lang="en-us"
        content="search, retrieval, iordanis, sapidis, valantis, zervos, yannis, tzitzikas">

    <title>PDF Search Demo</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <link rel="stylesheet" href="{{ url_for('static', filename='SemanticRAG/css/default.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='SemanticRAG/css/search.css') }}">

</head>

<body>
    <main>
        <div>
            <label for="collections">PDF Collection</label>
            <select name="collections" id="collections">
                {% for collection in collections %}
                <option value="{{ collection }}">{{collection}}</option>
                {% endfor %}
                <option value="new">New...</option>
            </select>
        </div>
        <div id="main">
            <div id="search-div">
                <span class="section-title">Search</span>
                <div id="search-container">
                    <div id="searchbar-container">
                        <i class="fas fa-search search-icon"></i>
                        <div id="input-text-container">
                            <textarea rows="1" id="input-text" placeholder="Search"></textarea>
                        </div>
                    </div>
                    <div id="params-container">
                        <div>
                            <span>Top&#8209;k</span>
                            <input id="topk" type="number" min="1" max="100" class="param-item" placeholder="5" />
                        </div>
                        <div>
                            <span>Score threshold</span>
                            <input id="score" step="0.1" type="number" min="0.1" max="1" class="param-item"
                                placeholder="0.6" />
                        </div>
                    </div>
                </div>
                <div id="results"></div>
            </div>
            <div class="divider"></div>
            <div id="documents-div">
                <span class="section-title">Documents</span>
                <div id="documents-container"></div>
            </div>
        </div>
    </main>
    <div class="modal" id="newCollectionModal" tabindex="-1" aria-labelledby="newCollectionLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="newCollectionLabel">New collection</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="newCollectionForm" action="{{ url_for('main.upload_collection') }}" method="post" enctype="multipart/form-data">
                            <label for="name">Collection name</label>
                            <input type="text" class="form-control" id="name" name="name" placeholder="Name" required>

                            <label for="documents">Documents</label>
                            <input class="form-control" id="documents" type="file" name="files[]" multiple>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" id="submitButton" class="btn btn-primary">Submit</button>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <div class=" bg-primary  row d-flex justify-content-between align-items-center text-center copyright-container">
            <span class="copyright"> Copyright Â© 2024 ICS-FORTH </span>
        </div>
    </footer>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='SemanticRAG/js/search.js') }}"></script>

</body>

</html>