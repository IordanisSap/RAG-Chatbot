
<ul>
    {% for document in documents %}
        <li>
            <a href="{{ url_for('main.download_file', filename=document.source) }}">
                {{ document.source }}
            </a> (page: {{ document.page }})
            {% set words = document.content %}
            {% set normalized_keywords = keywords | map('lower') | list %}
            {% for word in words %}
                    {%- set clean_word = word 
                        | lower 
                        | replace('.', '') 
                        | replace(',', '') 
                        | replace('!', '') 
                        | replace('?', '') 
                        | replace(':', '') 
                        | replace(';', '') 
                        | replace('"', '') 
                        | replace("'", '') 
                        | replace('(', '') 
                        | replace(')', '') 
                        | trim
                    -%}
                {%- if clean_word  in normalized_keywords -%}
                    <strong>{{ word }}</strong>
                {%- else -%}
                    {{ word }}
                {%- endif -%}
                {{ " " }}
            {% endfor %}
        </li>
    {% endfor %}
</ul>